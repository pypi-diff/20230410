# Comparing `tmp/del_msh-0.1.7.tar.gz` & `tmp/del_msh-0.1.8.tar.gz`

## Comparing `del_msh-0.1.7.tar` & `del_msh-0.1.8.tar`

### file list

```diff
@@ -1,16 +1,16 @@
--rw-r--r--   0        0        0      349 1970-01-01 00:00:00.000000 del_msh-0.1.7/Cargo.toml
--rw-r--r--   0      501       20      725 2022-10-23 08:07:16.000000 del_msh-0.1.7/.gitignore
--rw-r--r--   0      501       20     1073 2022-10-23 03:54:48.000000 del_msh-0.1.7/LICENSE
--rw-r--r--   0      501       20     2704 2022-10-23 08:37:50.000000 del_msh-0.1.7/README.ipynb
--rw-r--r--   0      501       20     1250 2022-10-23 08:38:33.000000 del_msh-0.1.7/README.md
--rw-r--r--   0      501       20   374693 2022-08-22 08:47:22.000000 del_msh-0.1.7/asset/HorseSwap.obj
--rw-r--r--   0      501       20    29623 2021-11-18 06:23:18.000000 del_msh-0.1.7/asset/bunny_1k.obj
--rw-r--r--   0      501       20      129 2022-08-22 08:47:22.000000 del_msh-0.1.7/asset/readme.md
--rw-r--r--   0      501       20     1222 2023-03-20 01:14:04.000000 del_msh-0.1.7/del_msh/__init__.py
--rw-r--r--   0      501       20      372 2022-10-23 03:57:32.000000 del_msh-0.1.7/pyproject.toml
--rw-r--r--   0      501       20     5471 2023-03-19 13:00:33.000000 del_msh-0.1.7/src/lib.rs
--rw-r--r--   0      501       20     2426 2023-03-03 08:25:42.000000 del_msh-0.1.7/src/primitive.rs
--rw-r--r--   0      501       20     3727 2023-03-19 02:25:43.000000 del_msh-0.1.7/src/topology.rs
--rw-r--r--   0      501       20     1073 2022-10-23 03:54:48.000000 del_msh-0.1.7/LICENSE
--rw-r--r--   0      501       20     1250 2022-10-23 08:38:33.000000 del_msh-0.1.7/Readme.md
--rw-r--r--   0        0        0     1598 1970-01-01 00:00:00.000000 del_msh-0.1.7/PKG-INFO
+-rw-r--r--   0        0        0      350 1970-01-01 00:00:00.000000 del_msh-0.1.8/Cargo.toml
+-rw-r--r--   0      501       20      725 2022-10-23 08:07:16.000000 del_msh-0.1.8/.gitignore
+-rw-r--r--   0      501       20     1073 2022-10-23 03:54:48.000000 del_msh-0.1.8/LICENSE
+-rw-r--r--   0      501       20     2704 2022-10-23 08:37:50.000000 del_msh-0.1.8/README.ipynb
+-rw-r--r--   0      501       20     1250 2022-10-23 08:38:33.000000 del_msh-0.1.8/README.md
+-rw-r--r--   0      501       20   374693 2022-08-22 08:47:22.000000 del_msh-0.1.8/asset/HorseSwap.obj
+-rw-r--r--   0      501       20    29623 2021-11-18 06:23:18.000000 del_msh-0.1.8/asset/bunny_1k.obj
+-rw-r--r--   0      501       20      129 2022-08-22 08:47:22.000000 del_msh-0.1.8/asset/readme.md
+-rw-r--r--   0      501       20     1239 2023-03-21 22:11:52.000000 del_msh-0.1.8/del_msh/__init__.py
+-rw-r--r--   0      501       20      372 2022-10-23 03:57:32.000000 del_msh-0.1.8/pyproject.toml
+-rw-r--r--   0      501       20     5550 2023-03-31 23:07:13.000000 del_msh-0.1.8/src/lib.rs
+-rw-r--r--   0      501       20     2426 2023-03-03 08:25:42.000000 del_msh-0.1.8/src/primitive.rs
+-rw-r--r--   0      501       20     3941 2023-03-24 19:26:15.000000 del_msh-0.1.8/src/topology.rs
+-rw-r--r--   0      501       20     1073 2022-10-23 03:54:48.000000 del_msh-0.1.8/LICENSE
+-rw-r--r--   0      501       20     1250 2022-10-23 08:38:33.000000 del_msh-0.1.8/Readme.md
+-rw-r--r--   0        0        0     1598 1970-01-01 00:00:00.000000 del_msh-0.1.8/PKG-INFO
```

### Comparing `del_msh-0.1.7/.gitignore` & `del_msh-0.1.8/.gitignore`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/LICENSE` & `del_msh-0.1.8/LICENSE`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/README.ipynb` & `del_msh-0.1.8/README.ipynb`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/README.md` & `del_msh-0.1.8/README.md`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/asset/HorseSwap.obj` & `del_msh-0.1.8/asset/HorseSwap.obj`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/asset/bunny_1k.obj` & `del_msh-0.1.8/asset/bunny_1k.obj`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/del_msh/__init__.py` & `del_msh-0.1.8/del_msh/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -25,8 +25,8 @@
     vtx_old2vtx_new = numpy.full(shape=vtx2xyz.shape[0],
                                  fill_value=numpy.iinfo(numpy.uint64).max,
                                  dtype=numpy.uint64)
     for vtx_new, vtx_old in enumerate(vtx_new2vtx_old):
         vtx_old2vtx_new[vtx_old] = vtx_new
     tri_new2vtx_new = numpy.zeros_like(tri_new2vtx_old)
     tri_new2vtx_new[:][:] = vtx_old2vtx_new[tri_new2vtx_old[:][:]]
-    return tri_new2vtx_new, vtx_new2xyz
+    return tri_new2vtx_new, vtx_new2xyz, vtx_new2vtx_old
```

### Comparing `del_msh-0.1.7/src/lib.rs` & `del_msh-0.1.8/src/lib.rs`

 * *Files 2% similar despite different names*

```diff
@@ -72,19 +72,21 @@
     }
 
     #[pyfn(m)]
     pub fn unidex_vertex_attribute_for_triangle_mesh<'a>(
         py: Python<'a>,
         tri2vtx: PyReadonlyArray2<'a, usize>,
         vtx2xyz: PyReadonlyArray2<'a, f32>) -> &'a PyArray3<f32> {
+        let num_val = vtx2xyz.shape()[1];
         let tri2xyz = del_msh::unindex::unidex_vertex_attribute_for_triangle_mesh(
             &tri2vtx.as_slice().unwrap(),
-            &vtx2xyz.as_slice().unwrap());
+            &vtx2xyz.as_slice().unwrap(),
+            num_val);
         numpy::ndarray::Array3::from_shape_vec(
-            (tri2xyz.len()/9,3,3), tri2xyz).unwrap().into_pyarray(py)
+            (tri2xyz.len()/(3*num_val),3,num_val), tri2xyz).unwrap().into_pyarray(py)
     }
 
     #[pyfn(m)]
     pub fn topological_distance_on_uniform_mesh<'a>(
         py: Python<'a>,
         ielm_ker: usize,
         elsuel: PyReadonlyArray2<'a, usize>) -> &'a PyArray1<usize> {
```

### Comparing `del_msh-0.1.7/src/primitive.rs` & `del_msh-0.1.8/src/primitive.rs`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/src/topology.rs` & `del_msh-0.1.8/src/topology.rs`

 * *Files 22% similar despite different names*

```diff
@@ -1,18 +1,19 @@
 use numpy::{IntoPyArray,
             PyReadonlyArray1, PyReadonlyArray2,
-            PyArray2};
+            PyArray1, PyArray2};
 use pyo3::{Python, pyfunction, types::PyModule, PyResult, wrap_pyfunction};
 
 pub fn add_functions(_py: Python, m: &PyModule) -> PyResult<()> {
     m.add_function(wrap_pyfunction!(edges_of_uniform_mesh, m)?)?;
     m.add_function(wrap_pyfunction!(edges_of_polygon_mesh, m)?)?;
     m.add_function(wrap_pyfunction!(triangles_from_polygon_mesh, m)?)?;
     m.add_function(wrap_pyfunction!(elsuel_uniform_mesh_polygon, m)?)?;
     m.add_function(wrap_pyfunction!(elsuel_uniform_mesh_simplex, m)?)?;
+    m.add_function( wrap_pyfunction!(group_connected_element_uniform_polygon_mesh, m)?)?;
     Ok(())
 }
 
 #[pyfunction]
 fn edges_of_uniform_mesh<'a>(
     py: Python<'a>,
     elem2vtx: PyReadonlyArray2<'a, usize>,
@@ -49,51 +50,53 @@
 
 #[pyfunction]
 fn elsuel_uniform_mesh_polygon<'a>(
     py: Python<'a>,
     elem2vtx: PyReadonlyArray2<'a, usize>,
     num_vtx: usize) -> &'a PyArray2<usize> {
     let num_node = elem2vtx.shape()[1];
-    let mut face2idx = vec!(0; num_node + 1);
-    let mut idx2node = vec!(0; num_node * 2);
-    for iedge in 0..num_node {
-        face2idx[iedge + 1] = (iedge + 1) * 2;
-        idx2node[iedge * 2 + 0] = iedge;
-        idx2node[iedge * 2 + 1] = (iedge + 1) % num_node;
-    }
+    let (face2idx, idx2node) = del_msh::elem2elem::face2node_of_polygon_element(num_node);
     let elsuel = del_msh::elem2elem::from_uniform_mesh2(
         &elem2vtx.as_slice().unwrap(),
         num_node, &face2idx, &idx2node, num_vtx);
     assert_eq!(elem2vtx.len(), elsuel.len());
     numpy::ndarray::Array2::from_shape_vec(
         (elsuel.len() / num_node, num_node), elsuel).unwrap().into_pyarray(py)
 }
 
 #[pyfunction]
 fn elsuel_uniform_mesh_simplex<'a>(
     py: Python<'a>,
     elem2vtx: PyReadonlyArray2<'a, usize>,
     num_vtx: usize) -> &'a PyArray2<usize> {
     let num_node = elem2vtx.shape()[1];
-    let num_node_face = num_node - 1;
-    let mut face2idx = vec!(0; num_node + 1);
-    let mut idx2node = vec!(0; num_node * num_node_face);
-    for iedge in 0..num_node {
-        face2idx[iedge + 1] = (iedge + 1) * 2;
-        let mut icnt = 0;
-        for ino in 0..num_node {
-            let ino1 = (iedge + ino) % num_node;
-            if ino1 == iedge {
-                continue;
-            }
-            idx2node[iedge * num_node_face + icnt] = ino1;
-            icnt += 1;
-        }
-    }
-    println!("{:?}", idx2node);
+    let (face2idx, idx2node)
+        = del_msh::elem2elem::face2node_of_simplex_element(num_node);
     let elsuel = del_msh::elem2elem::from_uniform_mesh2(
         &elem2vtx.as_slice().unwrap(),
         num_node, &face2idx, &idx2node, num_vtx);
     assert_eq!(elem2vtx.len(), elsuel.len());
     numpy::ndarray::Array2::from_shape_vec(
         (elsuel.len() / num_node, num_node), elsuel).unwrap().into_pyarray(py)
+}
+
+#[pyfunction]
+fn group_connected_element_uniform_polygon_mesh<'a>(
+    py: Python<'a>,
+    elem2vtx: PyReadonlyArray2<'a, usize>,
+    num_vtx: usize) -> (usize, &'a PyArray1<usize>)
+{
+    let num_node = elem2vtx.shape()[1];
+    let (face2idx, idx2node)
+        = del_msh::elem2elem::face2node_of_polygon_element(num_node);
+    let elem2elem_adj = del_msh::elem2elem::from_uniform_mesh2(
+        &elem2vtx.as_slice().unwrap(),
+        num_node, &face2idx, &idx2node, num_vtx);
+    let (num_group, elem2group) = del_msh::group::make_group_elem(
+        elem2vtx.as_slice().unwrap(),
+        num_node,
+        &elem2elem_adj);
+    (
+        num_group,
+        numpy::ndarray::Array1::from_vec(elem2group).into_pyarray(py)
+    )
 }
```

### Comparing `del_msh-0.1.7/Readme.md` & `del_msh-0.1.8/Readme.md`

 * *Files identical despite different names*

### Comparing `del_msh-0.1.7/PKG-INFO` & `del_msh-0.1.8/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: del-msh
-Version: 0.1.7
+Version: 0.1.8
 Classifier: Programming Language :: Rust
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Programming Language :: Python :: Implementation :: PyPy
 License-File: LICENSE
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown; charset=UTF-8; variant=GFM
```

